<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report name" pageWidth="792" pageHeight="612" orientation="Landscape" columnWidth="752" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="29"/>
	<parameter name="p_schema" class="java.lang.String"/>
	<parameter name="p_titulo" class="java.lang.String"/>
	<parameter name="p_dirbase" class="java.lang.String"/>
	<parameter name="codpro1" class="java.lang.String"/>
	<parameter name="codpro2" class="java.lang.String"/>
	<parameter name="nrord1" class="java.lang.String"/>
	<parameter name="nrord2" class="java.lang.String"/>
	<parameter name="codart1" class="java.lang.String"/>
	<parameter name="codart2" class="java.lang.String"/>
	<parameter name="fecreg1" class="java.lang.String"/>
	<parameter name="fecreg2" class="java.lang.String"/>
	<parameter name="status" class="java.lang.String"/>
	<parameter name="unidad" class="java.lang.String"/>
	<parameter name="partida" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT
	A.ORDCOM as aordcom,
	to_char(A.FECORD,'DD/MM/YYYY') as afecord,
	A.CODPRO as acodpro,
	E.NOMPRO as enompro,
	E.RIFPRO as erifpro,
	B.CODCAT as bcodcat,
	D.NOMCAT as dnomcat,
	c.codpar as fcodpar,
	A.DESORD as adesord,
	A.CRECON as acrecon,
	A.PLAENT as aplaent,
	A.TIECAN as atiecan,
	A.MONORD as amonord,
	A.STAORD as staord,
	B.CODART as bcodart,
	B.CANORD as bcanord,
	B.CANAJU as bcanaju,
	B.CANREC as bcanrec,
	B.CANTOT as bcantot,
	B.PREART as bpreart,
	(B.PREART*B.CANTOT) as totpre,
	B.DTOART as bdtoart,
	B.RGOART as brgoart,
	B.TOTART as btotart,
	C.DESART as bdesart,
	H.DESCONPAG as desconpag,
	I.DESFORENT as desforent
	FROM
		$P!{p_schema}.CAORDCOM A,
		$P!{p_schema}.CAARTORD B,
		$P!{p_schema}.CAREGART C,
		$P!{p_schema}.npcatpre D,
		$P!{p_schema}.CAPROVEE E,
		($P!{p_schema}.CAORDCONPAG F INNER JOIN $P!{p_schema}.CACONPAG H ON F.CODCONPAG = H.CODCONPAG),
		($P!{p_schema}.CAORDFORENT G INNER JOIN $P!{p_schema}.CAFORENT I ON G.CODFORENT = I.CODFORENT)
	WHERE
	A.ORDCOM LIKE 'O%'
	AND (A.ORDCOM) = (B.ORDCOM)
	AND (A.CODPRO) = (E.CODPRO)
	AND (A.ORDCOM) = (F.ORDCOM)
	AND (A.ORDCOM) = (G.ORDCOM)
	AND	(B.CODCAT) = (D.CODCAT)
	AND (B.CODART) = (C.CODART) and
	(A.ORDCOM) >= $P{nrord1} AND
	(A.ORDCOM) <= $P{nrord2} AND
	(E.CODPRO) >= $P{codpro1} AND
	(E.CODPRO) <= $P{codpro2} AND
	(B.CODART) >= $P{codart1} AND
	(B.CODART) <= $P{codart2} AND
	A.FECORD >= to_date($P{fecreg1},'dd/mm/yyyy')
	AND A.FECORD <= to_date($P{fecreg2},'dd/mm/yyyy') AND
	B.CODCAT LIKE $P{unidad} AND
	c.codpar  LIKE $P{partida}
	AND A.STAORD like $P{status}
	GROUP BY A.ORDCOM , A.FECORD, A.CODPRO, E.NOMPRO,
	E.RIFPRO, B.CODCAT, D.NOMCAT, c.codpar, A.DESORD,
	A.CRECON, A.PLAENT, A.TIECAN, A.MONORD,
	A.STAORD, B.CODART, B.CANORD, B.CANAJU, B.CANREC,
	B.CANTOT, B.PREART, B.DTOART, B.RGOART,
	B.TOTART, C.DESART, H.DESCONPAG, I.DESFORENT order by A.ORDCOM, A.FECORD]]>
	</queryString>
	<field name="aordcom" class="java.lang.String"/>
	<field name="afecord" class="java.lang.String"/>
	<field name="acodpro" class="java.lang.String"/>
	<field name="enompro" class="java.lang.String"/>
	<field name="erifpro" class="java.lang.String"/>
	<field name="bcodcat" class="java.lang.String"/>
	<field name="dnomcat" class="java.lang.String"/>
	<field name="fcodpar" class="java.lang.String"/>
	<field name="adesord" class="java.lang.String"/>
	<field name="acrecon" class="java.lang.String"/>
	<field name="aplaent" class="java.lang.String"/>
	<field name="atiecan" class="java.lang.String"/>
	<field name="amonord" class="java.math.BigDecimal"/>
	<field name="staord" class="java.lang.String"/>
	<field name="bcodart" class="java.lang.String"/>
	<field name="bcanord" class="java.math.BigDecimal"/>
	<field name="bcanaju" class="java.math.BigDecimal"/>
	<field name="bcanrec" class="java.math.BigDecimal"/>
	<field name="bcantot" class="java.math.BigDecimal"/>
	<field name="bpreart" class="java.math.BigDecimal"/>
	<field name="totpre" class="java.math.BigDecimal"/>
	<field name="bdtoart" class="java.math.BigDecimal"/>
	<field name="brgoart" class="java.math.BigDecimal"/>
	<field name="btotart" class="java.math.BigDecimal"/>
	<field name="bdesart" class="java.lang.String"/>
	<field name="desconpag" class="java.lang.String"/>
	<field name="desforent" class="java.lang.String"/>
	<variable name="bcanord_1" class="java.math.BigDecimal" resetType="Group" resetGroup="ordcom" calculation="Sum">
		<variableExpression><![CDATA[$F{bcanord}]]></variableExpression>
	</variable>
	<variable name="bcanaju_1" class="java.math.BigDecimal" resetType="Group" resetGroup="ordcom" calculation="Sum">
		<variableExpression><![CDATA[$F{bcanaju}]]></variableExpression>
	</variable>
	<variable name="bcanrec_1" class="java.math.BigDecimal" resetType="Group" resetGroup="ordcom" calculation="Sum">
		<variableExpression><![CDATA[$F{bcanrec}]]></variableExpression>
	</variable>
	<variable name="bcantot_1" class="java.math.BigDecimal" resetType="Group" resetGroup="ordcom" calculation="Sum">
		<variableExpression><![CDATA[$F{bcantot}]]></variableExpression>
	</variable>
	<variable name="btotart_1" class="java.math.BigDecimal" resetType="Group" resetGroup="ordcom" calculation="Sum">
		<variableExpression><![CDATA[$F{btotart}]]></variableExpression>
	</variable>
	<variable name="btotart_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{btotart}]]></variableExpression>
	</variable>
	<variable name="bcanord_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{bcanord}]]></variableExpression>
	</variable>
	<variable name="bcanaju_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{bcanaju}]]></variableExpression>
	</variable>
	<variable name="bcanrec_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{bcanrec}]]></variableExpression>
	</variable>
	<variable name="bcantot_2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{bcantot}]]></variableExpression>
	</variable>
	<group name="ordcom" keepTogether="true">
		<groupExpression><![CDATA[$F{aordcom}]]></groupExpression>
		<groupHeader>
			<band height="87">
				<staticText>
					<reportElement x="3" y="0" width="64" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Nro. Orden:]]></text>
				</staticText>
				<staticText>
					<reportElement x="100" y="66" width="217" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10" isBold="true"/>
					</textElement>
					<text><![CDATA[Desc. Artículo]]></text>
				</staticText>
				<textField>
					<reportElement x="67" y="0" width="100" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{aordcom}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="67" y="20" width="100" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{acodpro}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="3" y="20" width="64" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Proveedor:]]></text>
				</staticText>
				<textField>
					<reportElement x="167" y="20" width="260" height="36"/>
					<textElement verticalAlignment="Top"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{enompro}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="203" y="0" width="100" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{afecord}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="166" y="0" width="37" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Fecha:]]></text>
				</staticText>
				<textField>
					<reportElement x="349" y="0" width="78" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[( $F{staord}.equals( new String("A") ) ? "Activo" : "Anulado" )]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="299" y="0" width="50" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Estado:]]></text>
				</staticText>
				<staticText>
					<reportElement x="427" y="20" width="46" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Unidad:]]></text>
				</staticText>
				<textField>
					<reportElement x="473" y="20" width="279" height="36"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{dnomcat}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="561" y="0" width="97" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Credito/Contado:]]></text>
				</staticText>
				<textField>
					<reportElement x="658" y="0" width="94" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{desconpag}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="427" y="0" width="52" height="20"/>
					<textElement verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Entrega:]]></text>
				</staticText>
				<textField>
					<reportElement x="481" y="0" width="80" height="20"/>
					<textElement verticalAlignment="Middle"/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{desforent}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="0" y="66" width="100" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="10" isBold="true"/>
					</textElement>
					<text><![CDATA[Código Partida]]></text>
				</staticText>
				<staticText>
					<reportElement x="319" y="56" width="53" height="30"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[Cantidad Ordenada]]></text>
				</staticText>
				<staticText>
					<reportElement x="372" y="56" width="55" height="30"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[Cantidad Ajustada]]></text>
				</staticText>
				<staticText>
					<reportElement x="427" y="56" width="52" height="30"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[Cantidad Recibida]]></text>
				</staticText>
				<staticText>
					<reportElement x="479" y="56" width="53" height="30"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[Cantidad Total]]></text>
				</staticText>
				<staticText>
					<reportElement x="532" y="56" width="44" height="30"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[Precio Artículo]]></text>
				</staticText>
				<staticText>
					<reportElement x="576" y="56" width="62" height="30"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[Descuento Artículo]]></text>
				</staticText>
				<staticText>
					<reportElement x="638" y="56" width="57" height="30"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[Recargo Artículo]]></text>
				</staticText>
				<staticText>
					<reportElement x="695" y="56" width="57" height="30"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="9" isBold="true"/>
					</textElement>
					<text><![CDATA[Total Artículo]]></text>
				</staticText>
				<line>
					<reportElement x="5" y="0" width="747" height="1"/>
					<graphicElement>
						<pen lineWidth="1.5"/>
					</graphicElement>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="24">
				<textField pattern="#,##0;-#,##0">
					<reportElement x="329" y="0" width="43" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{bcanord_1}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="0" y="0" width="752" height="1"/>
					<graphicElement>
						<pen lineWidth="1.5" lineStyle="Dotted"/>
					</graphicElement>
				</line>
				<textField pattern="#,##0;-#,##0">
					<reportElement x="381" y="1" width="46" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{bcanaju_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0;-#,##0">
					<reportElement x="427" y="1" width="52" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{bcanrec_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0;-#,##0">
					<reportElement x="481" y="1" width="51" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{bcantot_1}]]></textFieldExpression>
				</textField>
				<textField pattern="#,##0.00;-#,##0.00">
					<reportElement x="695" y="1" width="57" height="20"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{btotart_1}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="100" y="0" width="127" height="20"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font isBold="true"/>
					</textElement>
					<text><![CDATA[Totales de la Orden:]]></text>
				</staticText>
			</band>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="85" splitType="Stretch">
			<textField>
				<reportElement x="638" y="24" width="80" height="20"/>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.String"><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="718" y="24" width="40" height="20"/>
				<textElement/>
				<textFieldExpression class="java.lang.String"><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="652" y="4" width="100" height="20"/>
				<textElement/>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<image>
				<reportElement x="0" y="0" width="105" height="55"/>
				<imageExpression class="java.lang.String"><![CDATA[$P{p_dirbase} + "/img/logo_1.jpg"]]></imageExpression>
			</image>
			<textField>
				<reportElement x="0" y="55" width="752" height="26"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="18" isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{p_titulo}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="21" splitType="Stretch">
			<textField>
				<reportElement x="100" y="0" width="229" height="20"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{bdesart}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="100" height="20"/>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{fcodpar}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0">
				<reportElement x="319" y="0" width="53" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{bcanord}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0">
				<reportElement x="372" y="0" width="55" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{bcanaju}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0">
				<reportElement x="427" y="0" width="52" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{bcanrec}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0">
				<reportElement x="479" y="0" width="53" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{bcantot}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="532" y="0" width="44" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{bpreart}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="576" y="0" width="62" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{bdtoart}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="638" y="0" width="57" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{brgoart}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="695" y="0" width="57" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{btotart}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="30">
			<staticText>
				<reportElement x="105" y="0" width="127" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Totales General:]]></text>
			</staticText>
			<textField pattern="#,##0.00;-#,##0.00">
				<reportElement x="658" y="0" width="94" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{btotart_2}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0">
				<reportElement x="329" y="0" width="43" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{bcanord_2}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0">
				<reportElement x="372" y="0" width="55" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{bcanaju_2}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0">
				<reportElement x="427" y="0" width="52" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{bcanrec_2}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0">
				<reportElement x="476" y="0" width="56" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{bcantot_2}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
